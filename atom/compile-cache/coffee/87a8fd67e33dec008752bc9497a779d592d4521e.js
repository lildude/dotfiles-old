(function() {
  describe('Message Element', function() {
    var Message, filePath, getMessage, visibleText;
    Message = require('../../lib/ui/message-element').Message;
    filePath = __dirname + '/fixtures/file.txt';
    getMessage = function(type) {
      return {
        type: type,
        text: 'Some Message',
        filePath: filePath
      };
    };
    visibleText = function(element) {
      var cloned;
      cloned = element.cloneNode(true);
      Array.prototype.forEach.call(cloned.querySelectorAll('[hidden]'), function(item) {
        return item.remove();
      });
      return cloned.textContent;
    };
    it('works', function() {
      var message, messageElement;
      message = getMessage('Error');
      messageElement = Message.fromMessage(message, 'Project');
      messageElement.attachedCallback();
      expect(visibleText(messageElement).indexOf(filePath) !== -1).toBe(true);
      messageElement.updateVisibility('File');
      expect(messageElement.hasAttribute('hidden')).toBe(true);
      message.currentFile = true;
      messageElement.updateVisibility('File');
      expect(messageElement.hasAttribute('hidden')).toBe(false);
      expect(visibleText(messageElement).indexOf(filePath) === -1).toBe(true);
      messageElement.updateVisibility('Line');
      expect(messageElement.hasAttribute('hidden')).toBe(true);
      message.currentLine = true;
      messageElement.updateVisibility('Line');
      expect(messageElement.hasAttribute('hidden')).toBe(false);
      return expect(visibleText(messageElement).indexOf(filePath) === -1).toBe(true);
    });
    return it('plays nice with class attribute', function() {
      var message, messageElement;
      message = getMessage('Error');
      message["class"] = 'Well Hello';
      messageElement = Message.fromMessage(message, 'Project');
      messageElement.attachedCallback();
      expect(messageElement.querySelector('.Well') instanceof Element).toBe(true);
      expect(messageElement.querySelector('.Hello') instanceof Element).toBe(true);
      return expect(messageElement.querySelector('.haha')).toBe(null);
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAiZmlsZSI6ICIiLAogICJzb3VyY2VSb290IjogIiIsCiAgInNvdXJjZXMiOiBbCiAgICAiL1VzZXJzL2xpbGR1ZGUvLmF0b20vcGFja2FnZXMvbGludGVyL3NwZWMvdWkvbWVzc2FnZS1lbGVtZW50LXNwZWMuY29mZmVlIgogIF0sCiAgIm5hbWVzIjogW10sCiAgIm1hcHBpbmdzIjogIkFBQUE7QUFBQSxFQUFBLFFBQUEsQ0FBUyxpQkFBVCxFQUE0QixTQUFBLEdBQUE7QUFDMUIsUUFBQSwwQ0FBQTtBQUFBLElBQUMsVUFBVyxPQUFBLENBQVEsOEJBQVIsRUFBWCxPQUFELENBQUE7QUFBQSxJQUNBLFFBQUEsR0FBVyxTQUFBLEdBQVksb0JBRHZCLENBQUE7QUFBQSxJQUdBLFVBQUEsR0FBYSxTQUFDLElBQUQsR0FBQTtBQUNYLGFBQU87QUFBQSxRQUFDLE1BQUEsSUFBRDtBQUFBLFFBQU8sSUFBQSxFQUFNLGNBQWI7QUFBQSxRQUE2QixVQUFBLFFBQTdCO09BQVAsQ0FEVztJQUFBLENBSGIsQ0FBQTtBQUFBLElBS0EsV0FBQSxHQUFjLFNBQUMsT0FBRCxHQUFBO0FBQ1osVUFBQSxNQUFBO0FBQUEsTUFBQSxNQUFBLEdBQVMsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsSUFBbEIsQ0FBVCxDQUFBO0FBQUEsTUFDQSxLQUFLLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUF4QixDQUE2QixNQUFNLENBQUMsZ0JBQVAsQ0FBd0IsVUFBeEIsQ0FBN0IsRUFBa0UsU0FBQyxJQUFELEdBQUE7ZUFDaEUsSUFBSSxDQUFDLE1BQUwsQ0FBQSxFQURnRTtNQUFBLENBQWxFLENBREEsQ0FBQTtBQUlBLGFBQU8sTUFBTSxDQUFDLFdBQWQsQ0FMWTtJQUFBLENBTGQsQ0FBQTtBQUFBLElBWUEsRUFBQSxDQUFHLE9BQUgsRUFBWSxTQUFBLEdBQUE7QUFDVixVQUFBLHVCQUFBO0FBQUEsTUFBQSxPQUFBLEdBQVUsVUFBQSxDQUFXLE9BQVgsQ0FBVixDQUFBO0FBQUEsTUFDQSxjQUFBLEdBQWlCLE9BQU8sQ0FBQyxXQUFSLENBQW9CLE9BQXBCLEVBQTZCLFNBQTdCLENBRGpCLENBQUE7QUFBQSxNQUVBLGNBQWMsQ0FBQyxnQkFBZixDQUFBLENBRkEsQ0FBQTtBQUFBLE1BSUEsTUFBQSxDQUFPLFdBQUEsQ0FBWSxjQUFaLENBQTJCLENBQUMsT0FBNUIsQ0FBb0MsUUFBcEMsQ0FBQSxLQUFtRCxDQUFBLENBQTFELENBQTZELENBQUMsSUFBOUQsQ0FBbUUsSUFBbkUsQ0FKQSxDQUFBO0FBQUEsTUFLQSxjQUFjLENBQUMsZ0JBQWYsQ0FBZ0MsTUFBaEMsQ0FMQSxDQUFBO0FBQUEsTUFNQSxNQUFBLENBQU8sY0FBYyxDQUFDLFlBQWYsQ0FBNEIsUUFBNUIsQ0FBUCxDQUE2QyxDQUFDLElBQTlDLENBQW1ELElBQW5ELENBTkEsQ0FBQTtBQUFBLE1BUUEsT0FBTyxDQUFDLFdBQVIsR0FBc0IsSUFSdEIsQ0FBQTtBQUFBLE1BU0EsY0FBYyxDQUFDLGdCQUFmLENBQWdDLE1BQWhDLENBVEEsQ0FBQTtBQUFBLE1BVUEsTUFBQSxDQUFPLGNBQWMsQ0FBQyxZQUFmLENBQTRCLFFBQTVCLENBQVAsQ0FBNkMsQ0FBQyxJQUE5QyxDQUFtRCxLQUFuRCxDQVZBLENBQUE7QUFBQSxNQVdBLE1BQUEsQ0FBTyxXQUFBLENBQVksY0FBWixDQUEyQixDQUFDLE9BQTVCLENBQW9DLFFBQXBDLENBQUEsS0FBaUQsQ0FBQSxDQUF4RCxDQUEyRCxDQUFDLElBQTVELENBQWlFLElBQWpFLENBWEEsQ0FBQTtBQUFBLE1BYUEsY0FBYyxDQUFDLGdCQUFmLENBQWdDLE1BQWhDLENBYkEsQ0FBQTtBQUFBLE1BY0EsTUFBQSxDQUFPLGNBQWMsQ0FBQyxZQUFmLENBQTRCLFFBQTVCLENBQVAsQ0FBNkMsQ0FBQyxJQUE5QyxDQUFtRCxJQUFuRCxDQWRBLENBQUE7QUFBQSxNQWVBLE9BQU8sQ0FBQyxXQUFSLEdBQXNCLElBZnRCLENBQUE7QUFBQSxNQWdCQSxjQUFjLENBQUMsZ0JBQWYsQ0FBZ0MsTUFBaEMsQ0FoQkEsQ0FBQTtBQUFBLE1BaUJBLE1BQUEsQ0FBTyxjQUFjLENBQUMsWUFBZixDQUE0QixRQUE1QixDQUFQLENBQTZDLENBQUMsSUFBOUMsQ0FBbUQsS0FBbkQsQ0FqQkEsQ0FBQTthQWtCQSxNQUFBLENBQU8sV0FBQSxDQUFZLGNBQVosQ0FBMkIsQ0FBQyxPQUE1QixDQUFvQyxRQUFwQyxDQUFBLEtBQWlELENBQUEsQ0FBeEQsQ0FBMkQsQ0FBQyxJQUE1RCxDQUFpRSxJQUFqRSxFQW5CVTtJQUFBLENBQVosQ0FaQSxDQUFBO1dBaUNBLEVBQUEsQ0FBRyxpQ0FBSCxFQUFzQyxTQUFBLEdBQUE7QUFDcEMsVUFBQSx1QkFBQTtBQUFBLE1BQUEsT0FBQSxHQUFVLFVBQUEsQ0FBVyxPQUFYLENBQVYsQ0FBQTtBQUFBLE1BQ0EsT0FBTyxDQUFDLE9BQUQsQ0FBUCxHQUFnQixZQURoQixDQUFBO0FBQUEsTUFFQSxjQUFBLEdBQWlCLE9BQU8sQ0FBQyxXQUFSLENBQW9CLE9BQXBCLEVBQTZCLFNBQTdCLENBRmpCLENBQUE7QUFBQSxNQUdBLGNBQWMsQ0FBQyxnQkFBZixDQUFBLENBSEEsQ0FBQTtBQUFBLE1BS0EsTUFBQSxDQUFPLGNBQWMsQ0FBQyxhQUFmLENBQTZCLE9BQTdCLENBQUEsWUFBaUQsT0FBeEQsQ0FBZ0UsQ0FBQyxJQUFqRSxDQUFzRSxJQUF0RSxDQUxBLENBQUE7QUFBQSxNQU1BLE1BQUEsQ0FBTyxjQUFjLENBQUMsYUFBZixDQUE2QixRQUE3QixDQUFBLFlBQWtELE9BQXpELENBQWlFLENBQUMsSUFBbEUsQ0FBdUUsSUFBdkUsQ0FOQSxDQUFBO2FBT0EsTUFBQSxDQUFPLGNBQWMsQ0FBQyxhQUFmLENBQTZCLE9BQTdCLENBQVAsQ0FBNkMsQ0FBQyxJQUE5QyxDQUFtRCxJQUFuRCxFQVJvQztJQUFBLENBQXRDLEVBbEMwQjtFQUFBLENBQTVCLENBQUEsQ0FBQTtBQUFBIgp9

//# sourceURL=/Users/lildude/.atom/packages/linter/spec/ui/message-element-spec.coffee
