{"mode":"editor","version":1,"windowDimensions":{"x":2,"y":22,"width":1267,"height":829},"syntax":{"deserializer":"Syntax","grammarOverridesByPath":{}},"project":{"path":"/Users/lildude/bin/textexpander-scripts","buffers":[{"text":"#!/usr/bin/env ruby\n\nclass SupportBundleTextExpansion\n  DOC_URL =\n    \"https://enterprise.github.com/\" +\n    \"help/articles/downloading-logs-from-your-installation\"\n  UPLOAD_URL = \"https://enterprise.github.com/support/bundles/new\"\n\n  def initialize(expansion_type = :url)\n    @expansion_type = expansion_type\n  end\n\n  def ticket_param\n    error_msg = 'Not called from a browser!'\n    # I only use Chrome.\n    applescript = %{tell application \"Google Chrome\" to return URL of active tab of front window}\n    url = `osascript -e '#{applescript}'`\n\n    if url =~ /#{error_msg}/\n      return ''\n    else\n      return url.split('/')[-1]\n    end\n  end\n\n  def halp_reply?\n    # Halp discussions are a 32-character hex\n    ticket_param =~ /[0-9a-f]{32}/\n  end\n\n  def upload_url\n    ticket_param == '' ? UPLOAD_URL : \"#{UPLOAD_URL}?ticket=#{ticket_param}\".strip\n  end\n\n  def expansion_text\n    if halp_reply?\n      %{Please could you download a support bundle (see #{DOC_URL})\n      and upload it to #{upload_url}\n      Note: the ticket system has no visibility of the bundle upload\n      process, so please reply to the ticket to let me know when it has finished\n      uploading.}.split.join(' ')\n    else\n      %{Please could you download a [support bundle](#{DOC_URL})\n      and upload it to [this location](#{upload_url})?\n      Note: the ticket system has no visibility of the bundle upload\n      process, so please reply to the ticket to let me know when it has finished\n      uploading.}.split.join(' ')\n    end\n  end\n\n  def to_s\n    case @expansion_type\n    when :text\n      expansion_text\n    when :url\n      upload_url\n    end\n  end\nend\n\n# Main\nif ARGV.size < 1\n  expansion_type = :text\nelse\n  expansion_type = ARGV[0].to_sym\nend\n\nsbte = SupportBundleTextExpansion.new(expansion_type)\nputs sbte\n","markers":{"markers":{"1":{"id":1,"range":[[14,24],[14,24]],"tailed":false,"reversed":true,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":10,"goalBufferRange":null},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[{"patches":[{"oldRange":[[15,0],[17,40]],"newRange":[[15,0],[15,0]],"oldText":"      tell application \"System Events\"\n        set myApp to name of first application process whose frontmost is true\n        if myApp is \"Google Chrome\" then","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[15,0],[15,0]]},"newParams":{"range":[[14,20],[15,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[15,0]],"newRange":[[14,20],[14,20]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[16,8],[21,14]],"newRange":[[16,8],[16,8]],"oldText":"else if myApp is \"Safari\" then\n          tell application \"Safari\" to return URL of front document\n        else\n          return \"#{error_msg}\"\n        end if\n      end tell","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"reversed":false,"range":[[16,8],[16,8]]},"newParams":{"reversed":true,"range":[[16,6],[16,8]]},"deserializer":"MarkerPatch"},{"oldRange":[[16,6],[16,8]],"newRange":[[16,6],[16,6]],"oldText":"  ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[16,6],[16,6]]},"newParams":{"range":[[16,4],[16,6]]},"deserializer":"MarkerPatch"},{"oldRange":[[16,4],[16,6]],"newRange":[[16,4],[16,4]],"oldText":"  ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[16,4],[16,4]]},"newParams":{"range":[[16,2],[16,4]]},"deserializer":"MarkerPatch"},{"oldRange":[[16,2],[16,4]],"newRange":[[16,2],[16,2]],"oldText":"  ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[16,2],[16,2]]},"newParams":{"range":[[16,0],[16,2]]},"deserializer":"MarkerPatch"},{"oldRange":[[16,0],[16,2]],"newRange":[[16,0],[16,0]],"oldText":"  ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[16,0],[16,0]]},"newParams":{"range":[[15,86],[16,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[15,86],[16,0]],"newRange":[[15,86],[15,86]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"reversed":true,"range":[[14,20],[14,20]]},"newParams":{"reversed":false,"range":[[14,20],[15,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[15,0]],"newRange":[[14,20],[14,20]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,20],[14,20]]},"newParams":{"range":[[14,20],[14,21]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,20],[14,21]],"newRange":[[14,20],[14,20]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,96],[14,96]]},"newParams":{"range":[[14,96],[15,0]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,96],[15,0]],"newRange":[[14,96],[14,96]],"oldText":"\n","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,96],[14,96]]},"newParams":{"range":[[14,96],[14,97]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,96],[14,97]],"newRange":[[14,96],[14,96]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,96],[14,96]]},"newParams":{"range":[[14,96],[14,97]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,96],[14,97]],"newRange":[[14,96],[14,96]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,96],[14,96]]},"newParams":{"range":[[14,96],[14,97]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,96],[14,97]],"newRange":[[14,96],[14,96]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"range":[[14,96],[14,96]]},"newParams":{"range":[[14,96],[14,97]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,96],[14,97]],"newRange":[[14,96],[14,96]],"oldText":" ","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[13,44],[13,44]],"newRange":[[13,44],[14,0]],"oldText":"","newText":"\n","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"},{"oldRange":[[14,0],[14,0]],"newRange":[[14,0],[14,4]],"oldText":"","newText":"    ","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,4],[14,4]],"newRange":[[14,4],[14,5]],"oldText":"","newText":"$","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"id":1,"oldParams":{"tailed":false},"newParams":{"tailed":true},"deserializer":"MarkerPatch"},{"id":1,"oldParams":{"reversed":false,"range":[[14,5],[14,5]]},"newParams":{"reversed":true,"range":[[14,4],[14,5]]},"deserializer":"MarkerPatch"},{"oldRange":[[14,4],[14,5]],"newRange":[[14,4],[14,4]],"oldText":"$","newText":"","normalizeLineEndings":true,"markerPatches":{},"deserializer":"BufferPatch"},{"id":1,"oldParams":{"tailed":true},"newParams":{"tailed":false},"deserializer":"MarkerPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,4],[14,4]],"newRange":[[14,4],[14,5]],"oldText":"","newText":"#","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,5],[14,5]],"newRange":[[14,5],[14,6]],"oldText":"","newText":" ","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,6],[14,6]],"newRange":[[14,6],[14,7]],"oldText":"","newText":"I","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,7],[14,7]],"newRange":[[14,7],[14,8]],"oldText":"","newText":" ","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,8],[14,8]],"newRange":[[14,8],[14,9]],"oldText":"","newText":"o","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,9],[14,9]],"newRange":[[14,9],[14,10]],"oldText":"","newText":"n","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,10],[14,10]],"newRange":[[14,10],[14,11]],"oldText":"","newText":"l","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,11],[14,11]],"newRange":[[14,11],[14,12]],"oldText":"","newText":"y","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,12],[14,12]],"newRange":[[14,12],[14,13]],"oldText":"","newText":" ","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,13],[14,13]],"newRange":[[14,13],[14,14]],"oldText":"","newText":"u","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,14],[14,14]],"newRange":[[14,14],[14,15]],"oldText":"","newText":"s","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,15],[14,15]],"newRange":[[14,15],[14,16]],"oldText":"","newText":"e","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,16],[14,16]],"newRange":[[14,16],[14,17]],"oldText":"","newText":" ","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,17],[14,17]],"newRange":[[14,17],[14,18]],"oldText":"","newText":"C","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,18],[14,18]],"newRange":[[14,18],[14,19]],"oldText":"","newText":"h","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,19],[14,19]],"newRange":[[14,19],[14,20]],"oldText":"","newText":"r","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,20],[14,20]],"newRange":[[14,20],[14,21]],"oldText":"","newText":"o","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,21],[14,21]],"newRange":[[14,21],[14,22]],"oldText":"","newText":"m","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,22],[14,22]],"newRange":[[14,22],[14,23]],"oldText":"","newText":"e","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"},{"patches":[{"oldRange":[[14,23],[14,23]],"newRange":[[14,23],[14,24]],"oldText":"","newText":".","normalizeLineEndings":{},"markerPatches":{},"deserializer":"BufferPatch"}],"deserializer":"Transaction"}],"redoStack":[],"deserializer":"History"},"filePath":"/Users/lildude/bin/textexpander-scripts/textexpander-support-bundle","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"31438733a98c4e9f967eccf5486ebe3ab3e01fe6","deserializer":"TextBuffer"},{"text":"#!/usr/bin/env ruby\n\nclass EnterpriseTicketURLMaker\n  ENTERPRISE_TICKETS_URL = \"https://enterprise.github.com/tickets/\"\n\n  def initialize(zendesk_ticket_number_or_url)\n    @ticket_number = zendesk_ticket_number_or_url.split('/').last\n  end\n\n  def to_s(format = :plain)\n    string = case format\n    when :plain\n      ENTERPRISE_TICKETS_URL + @ticket_number\n    when :markdown\n      \"[ZD##{@ticket_number}](#{ENTERPRISE_TICKETS_URL + @ticket_number})\"\n    else\n      raise \"Unsupported format '#{format}'\"\n    end\n  end\nend\n\nunless ARGV.count >= 1\n  puts \"Requires ticket number or new ZD URL\"\n  exit\nend\n\nticket_data = ARGV[0]\nformat = ARGV[1].nil? ? :plain : ARGV[1].to_sym\n\nbegin\n  etum = EnterpriseTicketURLMaker.new(ticket_data)\n  print etum.to_s(format)\nrescue RuntimeError => e\n  puts e.message\nend\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":14},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/lildude/bin/textexpander-scripts/textexpander-enterprise-ticket-url","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"bee3e87eb7935f79c33143e271c02d1736980467","deserializer":"TextBuffer"},{"text":"textexpander-scripts\n====================\n\nSome scripts used in TextExpander snippets.\n\n## Installation\n\n* Clone the repo\n* Create a snippet in TextExpander and set the content to __Shell Script__,\nthen create a small script that calls the relevant script from this repo.\n\nThe instructions below assume you have symlinked each script in this repo's\n`bin` into `/usr/local/bin`.\n\nExample screenshot of a snippet:\n\n![Snippet example](https://dl.dropboxusercontent.com/s/bsvo2x44kaqhkgz/2013-12-20%20at%2016.01%202x.png)\n\nThe setup for each script differs slightly. See below for specific TextExpander\nshell scripts.\n\n### textexpander-enterprise-ticket-url\n\nThis script needs you to have a Zendesk ticket URL in your copy/paste buffer. It\nalso accepts an optional arg of 'markdown' to output in markdown format. Leave\nthis off or use 'plain' to leave out Markdown formatting.\n\nUse this Shell Script in TextExpander:\n\n```shell\n#! /bin/bash\n# See https://ghe.io/tjl2/textexpander-scripts\n/usr/local/bin/textexpander-enterprise-ticket-url %clipboard markdown\n```\n\n### textexpander-old-zd-url\n\nThis script needs you to have a Zendesk ticket URL in your copy/paste buffer.\n\nUse this Shell Script in TextExpander:\n\n```shell\n#! /bin/bash\n# See https://ghe.io/tjl2/textexpander-scripts\n/usr/local/bin/textexpander-old-zd-url %clipboard\n```\n\n### textexpander-support-bundle\n\nThis script will generate either a message for use in a ticket (configurable in\nthe `expansion_text` method) or just the URL to the ESB upload page. You'll\nprobably want to configure two snippets that call the script either way. You\ncan call it with either a 'url' argument or 'text' to change the output.\n\nYou don't need to have anything in your paste buffer to use this snippet, but if\nyou are in a browser when you use it (Safari or Chrome, only), a ticket parameter\nwill be added on to the upload URL based on the ticket you are currently looking\nat. Bear that in mind if you use this in a browser outside of Zendesk or Halp!\n\nUse this Shell Script in TextExpander:\n\n```shell\n#! /bin/bash\n# See https://ghe.io/tjl2/textexpander-scripts\n/usr/local/bin/textexpander-support-bundle url\n```\n","markers":{"markers":{"1":{"id":1,"range":[[0,0],[0,0]],"tailed":false,"reversed":false,"valid":true,"invalidate":"never","persistent":true,"properties":{"type":"selection","editorId":18},"deserializer":"Marker"}},"deserializer":"MarkerManager"},"history":{"undoStack":[],"redoStack":[],"deserializer":"History"},"filePath":"/Users/lildude/bin/textexpander-scripts/README.md","modifiedWhenLastPersisted":false,"digestWhenLastPersisted":"e779677f5b283122ce16613caf4bd56973b23252","deserializer":"TextBuffer"}],"deserializer":"Project"},"workspace":{"paneContainer":{"root":{"items":[{"id":10,"softTabs":true,"displayBuffer":{"id":11,"softWrap":false,"editorWidthInChars":null,"scrollTop":654,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/lildude/bin/textexpander-scripts/textexpander-support-bundle","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":18,"softTabs":true,"displayBuffer":{"id":19,"softWrap":false,"editorWidthInChars":null,"scrollTop":595,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/lildude/bin/textexpander-scripts/README.md","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"},{"id":14,"softTabs":true,"displayBuffer":{"id":15,"softWrap":false,"editorWidthInChars":null,"scrollTop":0,"scrollLeft":0,"tokenizedBuffer":{"bufferPath":"/Users/lildude/bin/textexpander-scripts/textexpander-enterprise-ticket-url","tabLength":2,"deserializer":"TokenizedBuffer"},"deserializer":"DisplayBuffer"},"deserializer":"Editor"}],"activeItemUri":"/Users/lildude/bin/textexpander-scripts/README.md","focused":true,"active":true,"deserializer":"Pane"},"deserializer":"PaneContainer"},"fullScreen":false,"deserializer":"Workspace"},"packageStates":{"metrics":{"sessionLength":296680},"fuzzy-finder":{"/Users/lildude/bin/textexpander-scripts/textexpander-support-bundle":1407420767243,"/Users/lildude/bin/textexpander-scripts/README.md":1407420877158,"/Users/lildude/bin/textexpander-scripts/textexpander-enterprise-ticket-url":1407420762037},"keybinding-resolver":{"attached":false},"tree-view":{"directoryExpansionStates":{},"selectedPath":"/Users/lildude/bin/textexpander-scripts/README.md","hasFocus":false,"attached":true,"scrollLeft":0,"scrollTop":0,"width":200}}}